{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/fc8453a586da408aafc538bee057e213","result":{"data":{"posts":{"html":"<div data-block-id=\"535a3818-c8a2-48f1-b04b-8f6ab67f4987\" class=\"notion-selectable notion-table_of_contents-block\" style=\"width: 100%; max-width: 608px; margin-top: 2px; margin-bottom: 4px;\"><div style=\"position: relative;\"><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#efea71af-6e3b-4c35-b08e-b520feb15c82\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 120ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">类组件无法使用查询 sql hock</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#ae1846e3-9b9a-49ae-8c4b-879cc9b10fcf\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 120ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">GraphQL 的时间格式变换</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#39a31ccd-ab83-4e51-b868-e3eb471e56ce\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 120ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">ico 图标生成</div></div></div></a></div><div style=\"color: rgba(55, 53, 47, 0.6); fill: rgba(55, 53, 47, 0.6);\"><a href=\"#1747cebe-0027-415e-be6f-123dee42e262\" rel=\"noopener noreferrer\" style=\"display: block; color: inherit; text-decoration: none;\"><div role=\"button\" tabindex=\"0\" style=\"user-select: none; transition: background 120ms ease-in 0s; cursor: pointer; width: 100%;\"><div style=\"padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;\"><div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;\">sharp 包安装错误</div></div></div></a></div></div></div><div data-block-id=\"efea71af-6e3b-4c35-b08e-b520feb15c82\" class=\"notion-selectable notion-sub_header-block\" id=\"efea71af-6e3b-4c35-b08e-b520feb15c82\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px; color: rgb(55, 53, 47);\"><div style=\"display: flex; width: 100%; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">类组件无法使用查询 sql hock</div></div></div><div data-block-id=\"5b030ae3-862d-4a60-9c6f-cf49b3e9004d\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"3d9f702c-a299-4ec6-9e86-c24b0be479ab\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">有时我们的类组件需要 state 进行状态管理，但类组件没法使用Gatsby 的查询 sql hock</div></div></div></div><div data-block-id=\"b73558e0-489a-4c9b-b95c-a79d182ab068\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">解决方式如下</div></div></div></div><div data-block-id=\"65a5b57f-52bb-4e85-ae90-8ca9d5f85610\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 4px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc((1.5em + 3px) + 3px); padding-right: 2px;\"><div style=\"width: 6px; height: 6px; border-radius: 6px; background: currentcolor; margin-top: 0.1em;\"></div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding-top: 3px; padding-bottom: 3px; text-align: left;\">使用上层组件查询，将结果传递给需要子组件。</div></div></div></div></div><div data-block-id=\"556809e2-5cd2-44d3-aa62-18fcc7085ba7\" class=\"notion-selectable notion-bulleted_list-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;\"><div style=\"margin-right: 4px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc((1.5em + 3px) + 3px); padding-right: 2px;\"><div style=\"width: 6px; height: 6px; border-radius: 6px; background: currentcolor; margin-top: 0.1em;\"></div></div><div style=\"flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"List\" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding-top: 3px; padding-bottom: 3px; text-align: left;\">子组件使用 state 进行状态管理。</div></div></div></div></div><div data-block-id=\"be9dcdad-146e-4216-a367-f9cf5bd33ac9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"ae1846e3-9b9a-49ae-8c4b-879cc9b10fcf\" class=\"notion-selectable notion-sub_header-block\" id=\"ae1846e3-9b9a-49ae-8c4b-879cc9b10fcf\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px; color: rgb(55, 53, 47);\"><div style=\"display: flex; width: 100%; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">GraphQL 的时间格式变换</div></div></div><div data-block-id=\"9ebab568-4cd6-4809-8fca-0a974cdfa6c0\" class=\"notion-selectable notion-divider-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div class=\"notion-cursor-default\" style=\"display: flex; align-items: center; justify-content: center; pointer-events: auto; width: 100%; height: 13px; flex: 0 0 auto; color: rgb(228, 227, 226);\"><div style=\"width: 100%; height: 1px; visibility: visible; border-bottom: 1px solid rgba(55, 53, 47, 0.09);\"></div></div></div><div data-block-id=\"3e8dcb73-34d6-4e5b-a1a8-cfc525fdf48f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><a href=\"https://momentjs.com/docs/#/displaying/\" style=\"text-decoration:underline;color:inherit;cursor:pointer;word-wrap:break-word\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"0\">https://momentjs.com/docs/#/displaying/</a></div></div></div></div><div data-block-id=\"39a31ccd-ab83-4e51-b868-e3eb471e56ce\" class=\"notion-selectable notion-sub_header-block\" id=\"39a31ccd-ab83-4e51-b868-e3eb471e56ce\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px; color: rgb(55, 53, 47);\"><div style=\"display: flex; width: 100%; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">ico 图标生成</div></div></div><div data-block-id=\"a4544f9c-1bb9-4c85-ab6a-75d7e4f9dc31\" class=\"notion-selectable notion-divider-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div class=\"notion-cursor-default\" style=\"display: flex; align-items: center; justify-content: center; pointer-events: auto; width: 100%; height: 13px; flex: 0 0 auto; color: rgb(228, 227, 226);\"><div style=\"width: 100%; height: 1px; visibility: visible; border-bottom: 1px solid rgba(55, 53, 47, 0.09);\"></div></div></div><div data-block-id=\"21526de5-4cae-4e76-9e9c-a389ff2cbd88\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\"><a href=\"http://ico.duduxuexi.com/\" style=\"text-decoration:underline;color:inherit;cursor:pointer;word-wrap:break-word\" target=\"_blank\" rel=\"noopener noreferrer\" data-token-index=\"0\">http://ico.duduxuexi.com/</a></div></div></div></div><div data-block-id=\"e0c5be58-4026-4c29-a4cc-caf4060cfce9\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"1747cebe-0027-415e-be6f-123dee42e262\" class=\"notion-selectable notion-sub_header-block\" id=\"1747cebe-0027-415e-be6f-123dee42e262\" style=\"width: 100%; max-width: 608px; margin-top: 1.4em; margin-bottom: 1px; color: rgb(55, 53, 47);\"><div style=\"display: flex; width: 100%; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\"Heading 2\" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">sharp 包安装错误</div></div></div><div data-block-id=\"ecca23fb-0bfd-4938-a344-c2ad83b6209c\" class=\"notion-selectable notion-divider-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div class=\"notion-cursor-default\" style=\"display: flex; align-items: center; justify-content: center; pointer-events: auto; width: 100%; height: 13px; flex: 0 0 auto; color: rgb(228, 227, 226);\"><div style=\"width: 100%; height: 1px; visibility: visible; border-bottom: 1px solid rgba(55, 53, 47, 0.09);\"></div></div></div><div data-block-id=\"b7c99b32-6c24-4eac-b5b8-fd37f9958045\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">运行 <span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\">gatsby develop</span>，报错，提示删除包目录下的 sharp 包，接着运行 <span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"3\">npm install</span>，观察错误。</div></div></div></div><div data-block-id=\"037b30f8-2450-4fa1-89b5-738262b50c74\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">按提示 <span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\">npm install</span> 后，错误关键句如下</div></div></div></div><div data-block-id=\"0124e541-ec0a-4d31-bb72-daf186b6999b\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" data-root=\"true\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 30px 16px 30px 20px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span data-token-index=\"0\">PS D:\\\\Workspace\\\\blog</span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">npm</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">install</span><span data-token-index=\"0\">\n\n</span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> sharp@0.23.4 </span><span class=\"token function\" data-token-index=\"0\">install</span><span data-token-index=\"0\"> D:\\\\Workspace\\\\blog\\\\node_modules\\\\sharp\n</span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">node install/libvips </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> node install/dll-copy </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> prebuild-install</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token operator\" data-token-index=\"0\">||</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">node-gyp rebuild </span><span class=\"token operator\" data-token-index=\"0\">&amp;&amp;</span><span data-token-index=\"0\"> node install/dll-copy</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">\n\ninfo sharp Using cached D:\\\\devSoftware\\\\node-v10.16.3-win-x64\\\\node_cache\\\\_libvips\\\\libvips-8.8.1-win32-x64.tar.gz\nERR</span><span class=\"token operator\" data-token-index=\"0\">!</span><span data-token-index=\"0\"> sharp TAR_BAD_ARCHIVE: Unrecognized archive </span><span class=\"token function\" data-token-index=\"0\">format</span><span data-token-index=\"0\">\ninfo sharp Attempting to build from </span><span class=\"token function\" data-token-index=\"0\">source</span><span data-token-index=\"0\"> via node-gyp but this may fail due to the above error\ninfo sharp Please see </span><span class=\"token operator\" data-token-index=\"0\">&lt;</span><span data-token-index=\"0\">https://sharp.pixelplumbing.com/page/install</span><span class=\"token operator\" data-token-index=\"0\">&gt;</span><span data-token-index=\"0\"> </span><span class=\"token keyword\" data-token-index=\"0\">for</span><span data-token-index=\"0\"> required dependencies\n</span><span>\n</span></div></div><div style=\"position: absolute; top: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"></div><div style=\"position: absolute; bottom: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"><div role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 120ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Shell<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div></div></div></div><div data-block-id=\"4926f8e9-184d-4a65-838c-0bf415b89547\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"4814ed6c-7f5e-4978-9fa8-a15a41f4dce4\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">解决方式：</div></div></div></div><div data-block-id=\"9bfabbdc-6fdf-4760-875e-2e7626dd6c23\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">删除对应目录下的 libvips 文件，运行 <span style=\"font-family:&quot;SFMono-Regular&quot;, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em\" data-token-index=\"1\">npm install</span></div></div></div></div><div data-block-id=\"8d617e0c-d40c-4d6e-aeff-2fad9f131c83\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" data-root=\"true\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 30px 16px 30px 20px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">PS</span><span data-token-index=\"0\"> D:\\\\Workspace\\\\blog&gt; npm install\n\n&gt; sharp@0</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">23</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">4 install D:\\\\Workspace\\\\blog\\\\node_modules\\\\sharp\n&gt; </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">node install</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">libvips &amp;&amp; node install</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">dll</span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token function\" data-token-index=\"0\">copy</span><span data-token-index=\"0\"> &amp;&amp; prebuild</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">install</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">|</span><span class=\"token punctuation\" data-token-index=\"0\">|</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">node</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">gyp rebuild &amp;&amp; node install</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">dll</span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token function\" data-token-index=\"0\">copy</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">    \ninfo sharp Downloading &lt;https:</span><span class=\"token operator\" data-token-index=\"0\">/</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">github</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">com</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">lovell</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">sharp</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">libvips</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">releases</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">download</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">v8</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">1</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">libvips</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">1</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">win32</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">x64</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">tar</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">gz&gt;  \n</span><span>\n</span></div></div><div style=\"position: absolute; top: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"></div><div style=\"position: absolute; bottom: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"><div role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 120ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">PowerShell<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div></div></div></div><div data-block-id=\"f61c99df-d238-4fec-b27e-5504207830e2\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"13a6a75f-4834-4c33-a5e0-646fc14d6dcd\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">从上述命令行中复制对应 sharp-libvips 地址，手动下载，然后放入 node 缓存目录的_libvip 文件中</div></div></div></div><div data-block-id=\"0332f8ba-5af9-4e73-930d-b31509aea517\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" data-root=\"true\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 30px 16px 30px 20px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">PS</span><span data-token-index=\"0\"> D:\\\\Workspace\\\\blog&gt; npm install\n\n&gt; sharp@0</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">23</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">4 install D:\\\\Workspace\\\\blog\\\\node_modules\\\\sharp\n&gt; </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">node install</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">libvips &amp;&amp; node install</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">dll</span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token function\" data-token-index=\"0\">copy</span><span data-token-index=\"0\"> &amp;&amp; prebuild</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">install</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">|</span><span class=\"token punctuation\" data-token-index=\"0\">|</span><span data-token-index=\"0\"> </span><span class=\"token punctuation\" data-token-index=\"0\">(</span><span data-token-index=\"0\">node</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">gyp rebuild &amp;&amp; node install</span><span class=\"token operator\" data-token-index=\"0\">/</span><span data-token-index=\"0\">dll</span><span class=\"token operator\" data-token-index=\"0\">-</span><span class=\"token function\" data-token-index=\"0\">copy</span><span class=\"token punctuation\" data-token-index=\"0\">)</span><span data-token-index=\"0\">    \ninfo sharp </span><span class=\"token keyword\" data-token-index=\"0\">Using</span><span data-token-index=\"0\"> cached D:\\\\devSoftware\\\\node</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">v10</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">16</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">3</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">win</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">x64\\\\node_cache\\\\_libvips\\\\libvips</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">8</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">1</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">win32</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">x64</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">tar</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">gz\ninfo sharp Creating D:\\\\Workspace\\\\blog\\\\node_modules\\\\sharp\\\\build\\\\Release\ninfo sharp Copying DLLs </span><span class=\"token keyword\" data-token-index=\"0\">from</span><span data-token-index=\"0\"> D:\\\\Workspace\\\\blog\\\\node_modules\\\\sharp\\\\vendor\\\\lib to D:\\\\Workspace\\\\blog\\\\node_modules\\\\sharp\\\\build\\\\Release\nprebuild</span><span class=\"token operator\" data-token-index=\"0\">-</span><span data-token-index=\"0\">install WARN install connect ETIMEDOUT 52</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">216</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">98</span><span class=\"token punctuation\" data-token-index=\"0\">.</span><span data-token-index=\"0\">251:443\n</span><span>\n</span></div></div><div style=\"position: absolute; top: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"></div><div style=\"position: absolute; bottom: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"><div role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 120ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">PowerShell<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div></div></div></div><div data-block-id=\"89ab5754-7162-4ff2-947f-e80da4158fc5\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"978b1839-f692-4eb5-954f-2dfc467dc7df\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">prebuild install 错误，那就手动全局下载 prebuild-install 包</div></div></div></div><div data-block-id=\"49dea9d6-bec5-4759-82d5-e91e36b6a699\" class=\"notion-selectable notion-code-block\" style=\"width: 100%; max-width: 608px; margin-top: 4px; margin-bottom: 4px;\"><div style=\"display: flex;\"><div style=\"flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;\"><div class=\"line-numbers notion-code-block\" style=\"display: flex; overflow-x: auto;\"><div contenteditable=\"false\" spellcheck=\"false\" autocorrect=\"off\" autocapitalize=\"off\" data-root=\"true\" style=\"flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 30px 16px 30px 20px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;\"><span class=\"token function\" data-token-index=\"0\">npm</span><span data-token-index=\"0\"> </span><span class=\"token function\" data-token-index=\"0\">install</span><span data-token-index=\"0\"> prebuild-install -g</span><span>\n</span></div></div><div style=\"position: absolute; top: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"></div><div style=\"position: absolute; bottom: 0px; right: 0px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 30px;\"><div role=\"button\" aria-disabled=\"true\" tabindex=\"-1\" style=\"user-select: none; transition: background 120ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;\">Bash<svg viewBox=\"0 0 30 30\" class=\"chevronDown\" style=\"width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg></div></div></div></div></div><div data-block-id=\"f9140c6b-8219-4e7b-9e95-a087494cefef\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 1px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);\"></div></div></div></div><div data-block-id=\"d872d4dc-47ab-4770-9950-e49ebb78455f\" class=\"notion-selectable notion-text-block\" style=\"width: 100%; max-width: 608px; margin-top: 1px; margin-bottom: 0px;\"><div style=\"color: inherit; fill: inherit;\"><div style=\"display: flex;\"><div contenteditable=\"false\" spellcheck=\"true\" placeholder=\" \" data-root=\"true\" style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;\">最后，运行 npm install，没有错误了。</div></div></div></div>","title":"GatsbyJS 问题记录","category":["开发"],"tags":["静态页面"],"publish_date":"2020-03-02","last_edited":"2020-04-05"}},"pageContext":{"slug":"fc8453a586da408aafc538bee057e213"}}}